{% extends "financial_data/base.html" %}

{% block content %}
<div class="container">
    <aside class="sidebar">
        <h2>Indicators</h2>
        <div class="indicator-list">
            {% for indicator in indicators %}
            <div class="indicator-item" data-code="{{ indicator.code }}">
                {{ indicator.name }}
                <!-- Debug info -->
                <span style="display: none;">Code: {{ indicator.code }}</span>
            </div>
            {% endfor %}
        </div>
    </aside>
    
    <main class="main-content">
        <div class="country-selectors">
            <div class="selector">
                <label for="country-select-1">Select First Country:</label>
                <select id="country-select-1">
                    <option value="">Select a country</option>
                    {% for country in countries %}
                    <option value="{{ country.code }}">{{ country.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="selector">
                <label for="country-select-2">Select Second Country:</label>
                <select id="country-select-2">
                    <option value="">Select a country</option>
                    {% for country in countries %}
                    <option value="{{ country.code }}">{{ country.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        
        <div class="chart-container">
            <canvas id="chart"></canvas>
            <div id="error-message" style="display: none;" class="error-message"></div>
        </div>
    </main>
</div>

<!-- Debug info -->
<div style="display: none;">
    <h3>Available Indicators:</h3>
    {% for indicator in indicators %}
    <div>
        Code: {{ indicator.code }},
        Name: {{ indicator.name }}
    </div>
    {% endfor %}
</div>
{% endblock %}